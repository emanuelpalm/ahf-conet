# Data-Sharing Demo

This folder contains systems and other configuration files useful for using the contract system in
a concrete data-sharing demo.

## Building Demo

### Building Source Code

TODO

### Generating Certificates

To generate the certificate data needed by the systems in each cloud, please run the `mk_certs.sh` script as follows, if you are on a POSIX system.
If you are on Windows, please make sure you have a POSIX environment available, such as Cygwin or MinGW terminal, and that the Java `keytool` is available in that terminal.
The script is executed as follows:

```sh
$ ./mk_certs.sh
```

If you, for any reason, wants to remove all files generated by the `mk_certs.sh` script, please execute the `rm_certs.sh` script.

## Running Demo

To run the demo, `docker` and `docker-compose` must be installed on your system.
To start up the demo clouds, enter into this directory in a terminal and then enter the following command:

```sh
$ docker-compose up --build
```

If you have not run the command before, you will be requested to create two external Docker volumes.
The commands for doing that are given in the Docker error message in question.
After creating the volumes, enter the above command again.

To shut down the local clouds, use CTRL-D (or whatever key command your terminal requires to send
an End-of-File message to the Docker Daemon).
After the systems have all shut down, please type the following command to clean up any data cached
by the Docker daemon:

```sh
$ docker-compose down
```
